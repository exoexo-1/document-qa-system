{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LAKSHYA\\\\OneDrive\\\\Desktop\\\\document-qa-system\\\\document-qa-frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { uploadDocument, askQuestion } from './services/api';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [documentId, setDocumentId] = useState(null);\n  const [question, setQuestion] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const chatContainerRef = useRef(null);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleUpload = async () => {\n    if (!file) return;\n    try {\n      const response = await uploadDocument(file);\n      setDocumentId(response.document_id);\n      setMessages([]);\n    } catch (err) {\n      alert('Document upload failed');\n    }\n  };\n  const handleAskQuestion = async () => {\n    if (!documentId || !question) return;\n    const userMessage = {\n      role: 'user',\n      content: question\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setQuestion('');\n    setIsTyping(true);\n    try {\n      const response = await askQuestion(documentId, question, messages);\n      const systemMessage = {\n        role: 'system',\n        content: response.answer\n      };\n      setMessages(prev => [...prev, systemMessage]);\n    } catch (err) {\n      alert('Failed to get answer');\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  useEffect(() => {\n    var _chatContainerRef$cur;\n    (_chatContainerRef$cur = chatContainerRef.current) === null || _chatContainerRef$cur === void 0 ? void 0 : _chatContainerRef$cur.scrollTo({\n      top: chatContainerRef.current.scrollHeight,\n      behavior: 'smooth'\n    });\n  }, [messages, isTyping]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Document Q&A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange,\n        accept: \".pdf,.docx,.txt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-box\",\n        ref: chatContainerRef,\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${msg.role}`,\n          children: msg.content\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"typing-indicator\",\n          children: \"Typing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: question,\n          onChange: e => setQuestion(e.target.value),\n          placeholder: \"Ask a question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAskQuestion,\n          children: \"Ask\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"9ijwipbA4vxCKDwgT44ayvH2R2Y=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","uploadDocument","askQuestion","jsxDEV","_jsxDEV","App","_s","file","setFile","documentId","setDocumentId","question","setQuestion","messages","setMessages","isTyping","setIsTyping","chatContainerRef","handleFileChange","e","target","files","handleUpload","response","document_id","err","alert","handleAskQuestion","userMessage","role","content","prev","systemMessage","answer","_chatContainerRef$cur","current","scrollTo","top","scrollHeight","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","accept","onClick","ref","map","msg","index","value","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/LAKSHYA/OneDrive/Desktop/document-qa-system/document-qa-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { uploadDocument, askQuestion } from './services/api';\nimport './App.css';\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [documentId, setDocumentId] = useState(null);\n  const [question, setQuestion] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const chatContainerRef = useRef(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleUpload = async () => {\n    if (!file) return;\n    try {\n      const response = await uploadDocument(file);\n      setDocumentId(response.document_id);\n      setMessages([]);\n    } catch (err) {\n      alert('Document upload failed');\n    }\n  };\n\n  const handleAskQuestion = async () => {\n    if (!documentId || !question) return;\n\n    const userMessage = { role: 'user', content: question };\n    setMessages((prev) => [...prev, userMessage]);\n    setQuestion('');\n    setIsTyping(true);\n\n    try {\n      const response = await askQuestion(documentId, question, messages);\n      const systemMessage = { role: 'system', content: response.answer };\n      setMessages((prev) => [...prev, systemMessage]);\n    } catch (err) {\n      alert('Failed to get answer');\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  useEffect(() => {\n    chatContainerRef.current?.scrollTo({ top: chatContainerRef.current.scrollHeight, behavior: 'smooth' });\n  }, [messages, isTyping]);\n\n  return (\n    <div className=\"App\">\n      <h1>Document Q&A</h1>\n      <div className=\"upload-section\">\n        <input type=\"file\" onChange={handleFileChange} accept=\".pdf,.docx,.txt\" />\n        <button onClick={handleUpload}>Upload</button>\n      </div>\n      <div className=\"chat-section\">\n        <div className=\"chat-box\" ref={chatContainerRef}>\n          {messages.map((msg, index) => (\n            <div key={index} className={`message ${msg.role}`}>{msg.content}</div>\n          ))}\n          {isTyping && <div className=\"typing-indicator\">Typing...</div>}\n        </div>\n        <div className=\"input-section\">\n          <input\n            type=\"text\"\n            value={question}\n            onChange={(e) => setQuestion(e.target.value)}\n            placeholder=\"Ask a question\"\n          />\n          <button onClick={handleAskQuestion}>Ask</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}